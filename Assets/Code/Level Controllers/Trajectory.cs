//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18408
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using UnityEngine;


namespace Caravan
{
	public class Trajectory : MonoBehaviour
	{
		Waypoint[] waypoints;

		void Awake(){
			waypoints = GetComponentsInChildren<Waypoint>();
		}

		public Waypoint FirstPoint(){
			return waypoints [0];
		}

		public Waypoint NextPoint(Waypoint last_waypoint){

			if (last_waypoint = waypoints [waypoints.Length - 1])
				return null;

			for (int i = 0; i < waypoints.Length; i++){
				Waypoint point = waypoints[i];

				if (i < waypoints.Length - 1 && last_waypoint == point){
					return waypoints[i+1];
				}

			}

			return waypoints[waypoints.Length-1];
		}
	}
}

